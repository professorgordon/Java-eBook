-- ------------------------------------------------------------------------------------------------------------------------------
-- BuildGameScoresDB.sql
--
-- SQL script to build Grading System project database in MySql
-- c.2020 by Professor John Gordon
-- Script written and tested with the following:
--		-- Ver 8.0.20 for Win64 on x86_64 (MySQL Community Server - GPL)
-- 		-- MySql Workbench Community Version 8.0.20 build 16114288 CE (64 bit)
-- Disclaimer:	All sample data contained in this script was generated randomly,
-- 				any connection to real people is entirely coincidental.
-- ------------------------------------------------------------------------------------------------------------------------------

-- ------------------------------------------------------------------------------------------------------------------------------
-- Set Environment
-- ------------------------------------------------------------------------------------------------------------------------------
SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- ------------------------------------------------------------------------------------------------------------------------------
-- BUILD DATABASE STRUCTURE -----------------------------------------------------------------------------------------------------
-- ------------------------------------------------------------------------------------------------------------------------------

-- ------------------------------------------------------------------------------------------------------------------------------
-- Build Schema: game_scores
-- ------------------------------------------------------------------------------------------------------------------------------
DROP SCHEMA IF EXISTS `game_scores` ;
CREATE SCHEMA `game_scores` DEFAULT CHARACTER SET utf8 ;
USE game_scores;

-- ------------------------------------------------------------------------------------------------------------------------------
-- Build Table `game_scores`.`gamers`
-- ------------------------------------------------------------------------------------------------------------------------------
DROP TABLE IF EXISTS `game_scores`.`gamers` ;
CREATE TABLE `gamers` (
  `gamer_id` int NOT NULL AUTO_INCREMENT,
  `first_name` varchar(45) DEFAULT NULL,
  `last_name` varchar(45) DEFAULT NULL,
  `age` int DEFAULT NULL,
  PRIMARY KEY (`gamer_id`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ------------------------------------------------------------------------------------------------------------------------------
-- Build Table `game_scores`.`scores`
-- ------------------------------------------------------------------------------------------------------------------------------
DROP TABLE IF EXISTS `game_scores`.`scores` ;
CREATE TABLE `scores` (
  `score_id` int NOT NULL AUTO_INCREMENT,
  `gamer_id` int DEFAULT NULL,
  `game1` int DEFAULT NULL,
  `game2` int DEFAULT NULL,
  `game3` int DEFAULT NULL,
  `game4` int DEFAULT NULL,
  `game5` int DEFAULT NULL,
  `game6` int DEFAULT NULL,
  `game7` int DEFAULT NULL,
  `game8` int DEFAULT NULL,
  `game9` int DEFAULT NULL,
  `game10` int DEFAULT NULL,
  `scorescol` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`score_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- ------------------------------------------------------------------------------------------------------------------------------
-- ------------------------------------------------------------------------------------------------------------------------------
-- LOAD RANDOMIZED SAMPLE DATA --------------------------------------------------------------------------------------------------
-- ------------------------------------------------------------------------------------------------------------------------------
-- ------------------------------------------------------------------------------------------------------------------------------

-- ------------------------------------------------------------------------------------------------------------------------------
-- Populate Table `game_scores`.`gamers`
-- ------------------------------------------------------------------------------------------------------------------------------
TRUNCATE TABLE gamers;
INSERT INTO gamers (first_name, last_name, age) VALUES
	('Bob','Levin',14),
	('Sally','Massey',21),
	('Mario','Simmons',16),
	('Lev','Irvin',22),
	('Carden','Patterson',18),
	('Adelie','Byers',20),
	('Lada','Baxley',14),
	('Xavier','Pogue',15),
	('Raffi','Niles',18),
	('Chang','Marble',19),
	('Mich','Loera',21),
	('Mason','Banuelos',14),
	('Cora','Brinkley',15),
	('Sergio','Holm',21),
	('Jonas','Amos',22);

-- ------------------------------------------------------------------------------------------------------------------------------
-- Populate Table `game_scores`.`scores`
-- ------------------------------------------------------------------------------------------------------------------------------
TRUNCATE TABLE scores;
INSERT INTO scores (gamer_id, game1, game2, game3, game4, game5, game6, game7, game8, game9, game10) VALUES
	(1,167,123,159,102,102,189,183,173,197,148),
	(2,189,130,138,113,159,116,134,196,150,144),
	(3,104,106,120,188,143,189,149,174,163,100),
	(4,152,159,195,140,154,176,107,128,166,181),
	(5,158,200,175,114,117,150,176,181,131,132),
	(6,175,199,122,104,198,182,175,153,120,165),
	(7,161,108,102,193,151,197,115,137,126,186),
	(8,178,171,147,113,107,129,128,189,165,195),
	(9,176,144,151,124,149,112,158,159,119,177),
	(10,135,144,177,153,143,125,145,140,117,158),
	(11,156,105,178,137,165,180,128,115,139,157),
	(12,162,185,108,106,113,135,139,135,197,160),
	(13,186,115,106,126,135,108,157,156,187,120),
	(14,117,105,115,116,193,200,176,134,122,153),
	(15,132,163,196,101,134,159,131,104,135,168);

-- ------------------------------------------------------------------------------------------------------------------------------
-- Reset Environment
-- ------------------------------------------------------------------------------------------------------------------------------
SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- ------------------------------------------------------------------------------------------------------------------------------
-- Sample Queries
-- ------------------------------------------------------------------------------------------------------------------------------
/*
SELECT * FROM gamers;
SELECT * FROM scores;
SELECT * FROM gamers g LEFT JOIN scores s ON g.gamer_id = s.gamer_id;
SELECT age, COUNT(age) AS HowMany FROM gamers GROUP BY age ORDER BY HowMany DESC
*/

-- ------------------------------------------------------------------------------------------------------------------------------
-- Done
-- ------------------------------------------------------------------------------------------------------------------------------
